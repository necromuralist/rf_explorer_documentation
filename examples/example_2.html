<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Example Two - Frequency Sub-ranges &#8212; RF-Explorer Explorations 2017.10.02.a documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tuna.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/mr_pipo_waves_small.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="RF-Explorer Example Three" href="example_3.html" />
    <link rel="prev" title="RF-Explorer Example One - Max Value" href="example_1.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>
  
  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          RF-Explorer Explorations</a>
        <span class="navbar-text navbar-version pull-left"><b>2017.10.02</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rfexplorer/index.html">RF-Explorer API</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Example Two - Frequency Sub-ranges</a><ul>
<li><a class="reference internal" href="#what-s-that-then">0.1 What’s that then?</a><ul>
<li><a class="reference internal" href="#channel-reference">1 Channel Reference</a></li>
<li><a class="reference internal" href="#imports">2 Imports</a></li>
<li><a class="reference internal" href="#settings-checker">3 Settings Checker</a></li>
<li><a class="reference internal" href="#main-function">4 Main Function</a></li>
<li><a class="reference internal" href="#adding-arguments">5 Adding Arguments</a></li>
<li><a class="reference internal" href="#running-the-code">6 Running the Code</a></li>
<li><a class="reference internal" href="#the-tangle">7 The Tangle</a></li>
<li><a class="reference internal" href="#sample-output">8 Sample Output</a></li>
</ul>
</li>
<li><a class="reference internal" href="#trial-1">8.1 Trial 1</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="example_1.html" title="Previous Chapter: RF-Explorer Example One - Max Value"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; RF-Explorer E...</span>
    </a>
  </li>
  <li>
    <a href="example_3.html" title="Next Chapter: RF-Explorer Example Three"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">RF-Explorer E... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/examples/example_2.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

  
  
  <div id="main-content" class="container">
    <div class="row">
      <div class="col-md-12 content">
        
  <div class="section" id="example-two-frequency-sub-ranges">
<h1><a class="toc-backref" href="#id1">Example Two - Frequency Sub-ranges</a><a class="headerlink" href="#example-two-frequency-sub-ranges" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#example-two-frequency-sub-ranges" id="id1">Example Two - Frequency Sub-ranges</a><ul>
<li><a class="reference internal" href="#what-s-that-then" id="id2">0.1 What’s that then?</a><ul>
<li><a class="reference internal" href="#channel-reference" id="id3">1 Channel Reference</a></li>
<li><a class="reference internal" href="#imports" id="id4">2 Imports</a></li>
<li><a class="reference internal" href="#settings-checker" id="id5">3 Settings Checker</a></li>
<li><a class="reference internal" href="#main-function" id="id6">4 Main Function</a></li>
<li><a class="reference internal" href="#adding-arguments" id="id7">5 Adding Arguments</a></li>
<li><a class="reference internal" href="#running-the-code" id="id8">6 Running the Code</a></li>
<li><a class="reference internal" href="#the-tangle" id="id9">7 The Tangle</a></li>
<li><a class="reference internal" href="#sample-output" id="id10">8 Sample Output</a></li>
</ul>
</li>
<li><a class="reference internal" href="#trial-1" id="id11">8.1 Trial 1</a></li>
</ul>
</li>
</ul>
</div>
<p>This is an example taken from the RFExplorer for python repository. It extends example one by looking at sub-ranges of the spectrum and reporting the maximum value for each sub-range.</p>
<p>It will display amplitude in dBm and frequency in MHz for the maximum amplitude in the frequency range. It uses three main arguments</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">scan-start</span></code>: The frequency to start the scan</li>
<li><code class="docutils literal notranslate"><span class="pre">scan-end</span></code>: The frequency to end the scan</li>
<li><code class="docutils literal notranslate"><span class="pre">span-size</span></code>: The amount of frequencies to include in the current measurement.</li>
</ul>
<p>It starts at the <code class="docutils literal notranslate"><span class="pre">scan-start</span></code> frequency, then finds the highest value for the frequencies within the span (i.e. <code class="docutils literal notranslate"><span class="pre">scan-start</span></code>, to <code class="docutils literal notranslate"><span class="pre">scan-start</span> <span class="pre">+</span> <span class="pre">span-size</span></code>). Then moves up past the last frequency it used and finds the highest value for the next span, etc.</p>
<p>The defaults set in the argument parser should have it find the peaks for channels 1, 6, and 11, omitting the 5 frequencies that they aren’t supposed to overlap.</p>
<p>Changing the settings incurs kind of a lot of overhead so it wouldn’t be practical to actually do it like this, but this shows you how to select a sub-set of frequencies to query.</p>
<div class="section" id="what-s-that-then">
<h2><a class="toc-backref" href="#id2">0.1 What’s that then?</a><a class="headerlink" href="#what-s-that-then" title="Permalink to this headline">¶</a></h2>
<p>So, my explanation of the parameters was probably clear as mud. Let’s look at a picture.</p>
<div align="center" class="align-center"><img alt="../_images/wifi_channels.svg" src="../_images/wifi_channels.svg" /></div>
<p>This is a diagram for the older standards - 802.11 n uses channels that are 20 MHz, but this will be useful for my explanation, I hope.</p>
<p>Since each channel is 22MHz wide, you subtract 11 MHz from each center frequency to find its left value and add 11 MHZ to the center value to find its right value. So, since the center of channel 1 is at 2412 MHz, its leftmost edge is at 2401 MHz and its rightmost edge is at 2423 MHz. So, to sweep all of channel 1, your settings would be:</p>
<table border="1" class="docutils">
<colgroup>
<col width="70%" />
<col width="30%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">scan-start</span></code></td>
<td>2401</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">scan-end</span></code></td>
<td>2423</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">span-size</span></code></td>
<td>22</td>
</tr>
</tbody>
</table>
<p>If you wanted to scan the entire 2.4 GHz spectrum, the <code class="docutils literal notranslate"><span class="pre">scan-end</span></code> would be 2473 MHz, and using the 11 MHz span-size would cause the RF-Explorer to checck three sub-ranges within the total 2.4 GHz band.</p>
<div class="section" id="channel-reference">
<h3><a class="toc-backref" href="#id3">1 Channel Reference</a><a class="headerlink" href="#channel-reference" title="Permalink to this headline">¶</a></h3>
<p>These are the frequency ranges for the main channels (2.4 GHz) for 8O2.11n.</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="26%" />
<col width="26%" />
<col width="29%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"></th>
<th class="head">Channel 1</th>
<th class="head">Channel 6</th>
<th class="head">Channel 11</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Center</td>
<td>2412</td>
<td>2437</td>
<td>2462</td>
</tr>
<tr class="row-odd"><td>Span</td>
<td>20</td>
<td>20</td>
<td>20</td>
</tr>
<tr class="row-even"><td>Start</td>
<td>2402</td>
<td>2427</td>
<td>2452</td>
</tr>
<tr class="row-odd"><td>End</td>
<td>2422</td>
<td>2447</td>
<td>2472</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="imports">
<h3><a class="toc-backref" href="#id4">2 Imports</a><a class="headerlink" href="#imports" title="Permalink to this headline">¶</a></h3>
<div class="code ipython highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># python standard library</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># from pypi</span>
<span class="kn">import</span> <span class="nn">RFExplorer</span>

<span class="c1"># this folder</span>
<span class="kn">from</span> <span class="nn">example_1</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">Communicator</span><span class="p">,</span>
    <span class="n">argument_parser</span><span class="p">,</span>
    <span class="n">print_peak</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="settings-checker">
<h3><a class="toc-backref" href="#id5">3 Settings Checker</a><a class="headerlink" href="#settings-checker" title="Permalink to this headline">¶</a></h3>
<p>This function checks that the settings the user chose are reasonable and then sets them on the rf-explorer.</p>
<div class="code ipython highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">check_settings</span><span class="p">(</span><span class="n">rf_explorer</span><span class="p">,</span> <span class="n">arguments</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;This functions check user settings</span>

<span class="sd">    If a value is out of bounds it sets the value to the limit allowed</span>

<span class="sd">    Args:</span>
<span class="sd">     rfe_explorer: RFECommunicator instance</span>
<span class="sd">     arguments: object with the maximum setting values</span>

<span class="sd">    Returns:</span>
<span class="sd">     tuple: span-size, start-frequency, stop-frequency</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">#print user settings</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;User settings:</span><span class="se">\n</span><span class="s2">&quot;</span>
          <span class="o">+</span> <span class="s2">&quot;Start freq: </span><span class="si">{}</span><span class="s2"> MHz&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">arguments</span><span class="o">.</span><span class="n">scan_start</span><span class="p">)</span>
          <span class="o">+</span> <span class="s2">&quot; - &quot;</span>
          <span class="o">+</span> <span class="s2">&quot;Stop freq: </span><span class="si">{}</span><span class="s2"> MHz&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">arguments</span><span class="o">.</span><span class="n">scan_stop</span><span class="p">))</span>

    <span class="c1">#Control maximum span size</span>

    <span class="k">if</span><span class="p">(</span><span class="n">rf_explorer</span><span class="o">.</span><span class="n">MaxSpanMHZ</span> <span class="o">&lt;=</span> <span class="n">arguments</span><span class="o">.</span><span class="n">span_size</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Max Span size: </span><span class="si">{}</span><span class="s2"> MHz, Given </span><span class="si">{}</span><span class="s2"> MHz (aborting)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">rf_explorer</span><span class="o">.</span><span class="n">MaxSpanMHZ</span><span class="p">,</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">span_size</span>
        <span class="p">))</span>
        <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="k">if</span><span class="p">(</span><span class="n">rf_explorer</span><span class="o">.</span><span class="n">MinFreqMHZ</span> <span class="o">&gt;</span> <span class="n">arguments</span><span class="o">.</span><span class="n">scan_start</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Min Start freq: </span><span class="si">{}</span><span class="s2"> MHz, Given: </span><span class="si">{}</span><span class="s2"> MHz(aborting)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">rf_explorer</span><span class="o">.</span><span class="n">MinFreqMHZ</span><span class="p">,</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">scan_start</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="k">if</span><span class="p">(</span><span class="n">rf_explorer</span><span class="o">.</span><span class="n">MaxFreqMHZ</span> <span class="o">&lt;</span> <span class="n">arguments</span><span class="o">.</span><span class="n">scan_stop</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Max Start freq: </span><span class="si">{}</span><span class="s2"> MHz, Given: </span><span class="si">{}</span><span class="s2"> MHz (aborting)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">rf_explorer</span><span class="o">.</span><span class="n">MaxFreqMHZ</span><span class="p">,</span>
            <span class="n">arguments</span><span class="o">.</span><span class="n">scan_stop</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>

    <span class="n">rf_explorer</span><span class="o">.</span><span class="n">SpanMHZ</span> <span class="o">=</span> <span class="n">arguments</span><span class="o">.</span><span class="n">span_size</span>
    <span class="n">rf_explorer</span><span class="o">.</span><span class="n">StartFrequencyMHZ</span> <span class="o">=</span> <span class="n">arguments</span><span class="o">.</span><span class="n">scan_start</span>

    <span class="n">limit</span> <span class="o">=</span> <span class="n">rf_explorer</span><span class="o">.</span><span class="n">StartFrequencyMHZ</span> <span class="o">+</span> <span class="n">rf_explorer</span><span class="o">.</span><span class="n">SpanMHZ</span>
    <span class="k">if</span><span class="p">(</span><span class="n">limit</span> <span class="o">&gt;</span> <span class="n">arguments</span><span class="o">.</span><span class="n">scan_stop</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">((</span><span class="s2">&quot;Max Stop freq (START_SCAN_MHZ &quot;</span>
               <span class="s2">&quot;+ SPAN_SIZE_MHZ): </span><span class="si">{}</span><span class="s2"> MHz, Given: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                   <span class="n">arguments</span><span class="o">.</span><span class="n">scan_stop</span><span class="p">,</span>
                   <span class="n">limit</span><span class="p">))</span>
        <span class="n">stop_frequency</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">stop_frequency</span> <span class="o">=</span> <span class="n">limit</span>

    <span class="k">return</span> <span class="n">rf_explorer</span><span class="o">.</span><span class="n">SpanMHZ</span><span class="p">,</span> <span class="n">rf_explorer</span><span class="o">.</span><span class="n">StartFrequencyMHZ</span><span class="p">,</span> <span class="n">stop_frequency</span>
</pre></div>
</div>
</div>
<div class="section" id="main-function">
<h3><a class="toc-backref" href="#id6">4 Main Function</a><a class="headerlink" href="#main-function" title="Permalink to this headline">¶</a></h3>
<div class="code ipython highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">arguments</span><span class="p">,</span> <span class="n">communicator</span><span class="p">,</span> <span class="n">clean</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Runs the example</span>

<span class="sd">    Args:</span>
<span class="sd">     arguments (:py:class:`argparse.Namespace`): thing with parameters</span>
<span class="sd">     communicator (``Communicator``): holder of the RFECommunicator</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rf_explorer</span> <span class="o">=</span> <span class="n">communicator</span><span class="o">.</span><span class="n">rf_explorer</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">communicator</span><span class="o">.</span><span class="n">set_up</span><span class="p">()</span>
        <span class="c1">#Control settings</span>
        <span class="n">SpanSize</span><span class="p">,</span> <span class="n">StartFreq</span><span class="p">,</span> <span class="n">StopFreq</span> <span class="o">=</span> <span class="n">check_settings</span><span class="p">(</span><span class="n">rf_explorer</span><span class="p">,</span> <span class="n">arguments</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">SpanSize</span> <span class="ow">and</span> <span class="n">StartFreq</span> <span class="ow">and</span> <span class="n">StopFreq</span><span class="p">):</span>
            <span class="c1">#set new frequency range</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Updating Device Configuration: </span><span class="si">{}</span><span class="s2">, </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">StartFreq</span><span class="p">,</span> <span class="n">StopFreq</span><span class="p">))</span>
            <span class="n">rf_explorer</span><span class="o">.</span><span class="n">UpdateDeviceConfig</span><span class="p">(</span><span class="n">StartFreq</span><span class="p">,</span> <span class="n">StopFreq</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">clean</span><span class="p">:</span>
                <span class="n">rf_explorer</span><span class="o">.</span><span class="n">SweepData</span><span class="o">.</span><span class="n">CleanAll</span><span class="p">()</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;updated&quot;</span><span class="p">)</span>
            <span class="n">LastStartFreq</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">nInd</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">StopFreq</span><span class="o">&lt;=</span><span class="n">arguments</span><span class="o">.</span><span class="n">scan_stop</span> <span class="ow">and</span> <span class="n">StartFreq</span> <span class="o">&lt;</span> <span class="n">StopFreq</span><span class="p">):</span>
                <span class="c1">#Process all received data from device</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Waiting for data&quot;</span><span class="p">)</span>
                <span class="k">while</span> <span class="p">(</span><span class="n">rf_explorer</span><span class="o">.</span><span class="n">SweepData</span><span class="o">.</span><span class="n">Count</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">):</span>
                    <span class="n">rf_explorer</span><span class="o">.</span><span class="n">ProcessReceivedString</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

                <span class="c1">#Print data if received new sweep and a different start frequency</span>
                <span class="k">if</span><span class="p">(</span><span class="n">StartFreq</span> <span class="o">!=</span> <span class="n">LastStartFreq</span><span class="p">):</span>
                    <span class="n">nInd</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Freq range[</span><span class="si">{}</span><span class="s2">]: </span><span class="si">{}</span><span class="s2"> - </span><span class="si">{}</span><span class="s2"> MHz&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nInd</span><span class="p">,</span> <span class="n">StartFreq</span><span class="p">,</span> <span class="n">StopFreq</span><span class="p">))</span>
                    <span class="n">print_peak</span><span class="p">(</span><span class="n">rf_explorer</span><span class="p">)</span>
                    <span class="n">LastFreqStart</span> <span class="o">=</span> <span class="n">StartFreq</span>

                <span class="c1">#set new frequency range</span>
                <span class="n">StartFreq</span> <span class="o">=</span> <span class="nb">min</span><span class="p">((</span><span class="n">StopFreq</span> <span class="o">+</span> <span class="n">arguments</span><span class="o">.</span><span class="n">offset</span><span class="p">,</span> <span class="n">arguments</span><span class="o">.</span><span class="n">scan_stop</span><span class="p">))</span>
                <span class="n">StopFreq</span> <span class="o">=</span> <span class="n">StartFreq</span> <span class="o">+</span> <span class="n">SpanSize</span>

                <span class="c1">#Maximum stop/start frequency control</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">StartFreq</span> <span class="o">&lt;</span> <span class="n">StopFreq</span> <span class="ow">and</span> <span class="n">StopFreq</span><span class="o">&lt;=</span><span class="n">arguments</span><span class="o">.</span><span class="n">scan_stop</span><span class="p">):</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Updating device config&quot;</span><span class="p">)</span>
                    <span class="n">rf_explorer</span><span class="o">.</span><span class="n">UpdateDeviceConfig</span><span class="p">(</span><span class="n">StartFreq</span><span class="p">,</span> <span class="n">StopFreq</span><span class="p">)</span>
                    <span class="c1">#Wait for new configuration to arrive (as it will clean up old sweep data)</span>
                    <span class="n">sweep_data</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Waiting for sweep_data update&quot;</span><span class="p">)</span>
                    <span class="k">while</span> <span class="p">((</span><span class="n">sweep_data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="n">sweep_data</span><span class="o">.</span><span class="n">StartFrequencyMHZ</span> <span class="o">!=</span> <span class="n">StartFreq</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">rf_explorer</span><span class="o">.</span><span class="n">SweepData</span><span class="o">.</span><span class="n">IsFull</span><span class="p">():</span>
                            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sweep Data Collection is Full&quot;</span><span class="p">)</span>
                        <span class="n">rf_explorer</span><span class="o">.</span><span class="n">ProcessReceivedString</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                        <span class="k">if</span> <span class="p">(</span><span class="n">rf_explorer</span><span class="o">.</span><span class="n">SweepData</span><span class="o">.</span><span class="n">Count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
                            <span class="n">sweep_data</span> <span class="o">=</span> <span class="n">rf_explorer</span><span class="o">.</span><span class="n">SweepData</span><span class="o">.</span><span class="n">GetData</span><span class="p">(</span><span class="n">rf_explorer</span><span class="o">.</span><span class="n">SweepData</span><span class="o">.</span><span class="n">Count</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error</span><span class="p">))</span>
    <span class="k">return</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-arguments">
<h3><a class="toc-backref" href="#id7">5 Adding Arguments</a><a class="headerlink" href="#adding-arguments" title="Permalink to this headline">¶</a></h3>
<p>This adds the arguments unique to this example. The span-size used is the maximum that the rf-explorer will allow.</p>
<div class="code ipython highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add_arguments</span><span class="p">(</span><span class="n">parser</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;adds the extra command-line arguments</span>

<span class="sd">    Args:</span>
<span class="sd">     parser (:py:class:`argparse.ArgumentParser`)</span>

<span class="sd">    Returns:</span>
<span class="sd">     :py:class:`argparse.ArgumentParser`: parser with extra arguments</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--scan-start&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">2402</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Frequency (MHz) to start the scan on (default=</span><span class="si">%(default)s</span><span class="s2">)&quot;</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--scan-stop&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">2477</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Frequency (MHz) to stop the scan on (default=</span><span class="si">%(default)s</span><span class="s2">)&quot;</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--span-size&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Span of each measurement (default=</span><span class="si">%(default)s</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--reset-time&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Time to wait after sending the reset command (default=</span><span class="si">%(default)s</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--offset&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Amount to add to the last frequency in the range when finding the low-end for the next range (default=</span><span class="si">%(default)s</span><span class="s2">)&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">parser</span>
</pre></div>
</div>
</div>
<div class="section" id="running-the-code">
<h3><a class="toc-backref" href="#id8">6 Running the Code</a><a class="headerlink" href="#running-the-code" title="Permalink to this headline">¶</a></h3>
<div class="code ipython highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argument_parser</span><span class="p">()</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">add_arguments</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
    <span class="k">with</span> <span class="n">Communicator</span><span class="p">(</span><span class="n">arguments</span><span class="o">.</span><span class="n">serialport</span><span class="p">,</span>
                      <span class="n">arguments</span><span class="o">.</span><span class="n">baud_rate</span><span class="p">,</span>
                      <span class="n">settle_time</span><span class="o">=</span><span class="n">arguments</span><span class="o">.</span><span class="n">reset_time</span><span class="p">)</span> <span class="k">as</span> <span class="n">communicator</span><span class="p">:</span>
        <span class="n">main</span><span class="p">(</span><span class="n">arguments</span><span class="p">,</span> <span class="n">communicator</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="the-tangle">
<h3><a class="toc-backref" href="#id9">7 The Tangle</a><a class="headerlink" href="#the-tangle" title="Permalink to this headline">¶</a></h3>
<div class="code ipython highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;&lt;</span><span class="n">imports</span><span class="o">&gt;&gt;</span>

<span class="o">&lt;&lt;</span><span class="n">check</span><span class="o">-</span><span class="n">settings</span><span class="o">&gt;&gt;</span>

<span class="o">&lt;&lt;</span><span class="n">main</span><span class="o">-</span><span class="n">function</span><span class="o">&gt;&gt;</span>

<span class="o">&lt;&lt;</span><span class="n">add</span><span class="o">-</span><span class="n">arguments</span><span class="o">&gt;&gt;</span>

<span class="o">&lt;&lt;</span><span class="n">executable</span><span class="o">-</span><span class="n">section</span><span class="o">&gt;&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="sample-output">
<h3><a class="toc-backref" href="#id10">8 Sample Output</a><a class="headerlink" href="#sample-output" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="trial-1">
<h2><a class="toc-backref" href="#id11">8.1 Trial 1</a><a class="headerlink" href="#trial-1" title="Permalink to this headline">¶</a></h2>
<p>This will use the defaults to sweep all the channels for 4 seconds.</p>
<div class="code ipython highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">example_1</span> <span class="k">import</span>  <span class="p">(</span>
    <span class="n">argument_parser</span><span class="p">,</span>
    <span class="n">print_peak</span><span class="p">,</span>
    <span class="n">Communicator</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">example_2</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">add_arguments</span><span class="p">,</span>
    <span class="n">main</span><span class="p">,</span>
    <span class="p">)</span>

<span class="k">def</span> <span class="nf">sample</span><span class="p">(</span><span class="n">clean</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argument_parser</span><span class="p">()</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">add_arguments</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="s2">&quot;--serialport /dev/ttyUSB0 --run-time 1 --reset-time 4&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
    <span class="k">with</span> <span class="n">Communicator</span><span class="p">(</span><span class="n">arguments</span><span class="o">.</span><span class="n">serialport</span><span class="p">,</span>
                      <span class="n">arguments</span><span class="o">.</span><span class="n">baud_rate</span><span class="p">,</span>
                      <span class="n">settle_time</span><span class="o">=</span><span class="n">arguments</span><span class="o">.</span><span class="n">reset_time</span><span class="p">)</span> <span class="k">as</span> <span class="n">communicator</span><span class="p">:</span>
        <span class="n">main</span><span class="p">(</span><span class="n">arguments</span><span class="p">,</span> <span class="n">communicator</span><span class="p">,</span> <span class="n">clean</span><span class="p">)</span>
<span class="n">sample</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Detected</span> <span class="n">COM</span> <span class="n">ports</span><span class="p">:</span>
  <span class="o">*</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyS0</span>
  <span class="o">*</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyUSB0</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyS0</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">valid</span> <span class="n">available</span> <span class="n">port</span><span class="o">.</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyUSB0</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">valid</span> <span class="n">available</span> <span class="n">port</span><span class="o">.</span>
<span class="n">RF</span> <span class="n">Explorer</span> <span class="n">Valid</span> <span class="n">Ports</span> <span class="n">found</span><span class="p">:</span> <span class="mi">2</span> <span class="o">-</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyS0</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyUSB0</span>
<span class="n">User</span> <span class="n">COM</span> <span class="n">port</span><span class="p">:</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyUSB0</span>
<span class="n">Connected</span><span class="p">:</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyUSB0</span><span class="p">,</span> <span class="mi">500000</span> <span class="n">bauds</span>
<span class="n">Sending</span> <span class="n">the</span> <span class="n">Reset</span> <span class="n">Command</span>
<span class="n">Waiting</span> <span class="n">until</span> <span class="n">the</span> <span class="n">device</span> <span class="n">resets</span>
<span class="n">Reset</span><span class="p">,</span> <span class="n">sleeping</span> <span class="k">for</span> <span class="mf">4.0</span> <span class="n">seconds</span> <span class="n">to</span> <span class="n">let</span> <span class="n">the</span> <span class="n">device</span> <span class="n">settle</span>
<span class="n">requesting</span> <span class="n">the</span> <span class="n">RF</span> <span class="n">Explorer</span> <span class="n">configuration</span>
<span class="n">Waiting</span> <span class="k">for</span> <span class="n">the</span> <span class="n">model</span> <span class="n">to</span> <span class="ow">not</span> <span class="n">be</span> <span class="kc">None</span>
<span class="n">Received</span> <span class="n">RF</span> <span class="n">Explorer</span> <span class="n">device</span> <span class="n">model</span> <span class="n">info</span><span class="p">:</span><span class="c1">#C2-M:004,255,01.11</span>
<span class="n">New</span> <span class="n">Freq</span> <span class="nb">range</span> <span class="o">-</span> <span class="n">buffer</span> <span class="n">cleared</span><span class="o">.</span>

<span class="n">RF</span> <span class="n">Explorer</span> <span class="mi">23</span><span class="o">-</span><span class="n">Apr</span><span class="o">-</span><span class="mi">13</span> <span class="mf">01.04</span><span class="o">.</span><span class="mi">05</span> <span class="mf">01.11</span>
<span class="n">Model</span> <span class="ow">is</span> <span class="nb">set</span>
<span class="n">User</span> <span class="n">settings</span><span class="p">:</span>
<span class="n">Start</span> <span class="n">freq</span><span class="p">:</span> <span class="mi">2402</span> <span class="n">MHz</span> <span class="o">-</span> <span class="n">Stop</span> <span class="n">freq</span><span class="p">:</span> <span class="mi">2477</span> <span class="n">MHz</span>
<span class="n">Updating</span> <span class="n">Device</span> <span class="n">Configuration</span><span class="p">:</span> <span class="mi">2402</span><span class="p">,</span> <span class="mi">2422</span>
<span class="n">updated</span>
<span class="n">Waiting</span> <span class="k">for</span> <span class="n">data</span>
<span class="n">Freq</span> <span class="nb">range</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="mi">2402</span> <span class="o">-</span> <span class="mi">2422</span> <span class="n">MHz</span>
<span class="n">Mon</span> <span class="n">Feb</span> <span class="mi">19</span> <span class="mi">13</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">09</span> <span class="mi">2018</span><span class="p">,</span> <span class="n">Sweep</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">Peak</span><span class="p">:</span> <span class="mf">2405.214</span> <span class="n">MHz</span>      <span class="o">-</span><span class="mf">100.0</span> <span class="n">dBm</span>
<span class="n">Updating</span> <span class="n">device</span> <span class="n">config</span>
<span class="n">Waiting</span> <span class="k">for</span> <span class="n">sweep_data</span> <span class="n">update</span>
<span class="n">Received</span> <span class="n">RF</span> <span class="n">Explorer</span> <span class="n">device</span> <span class="n">model</span> <span class="n">info</span><span class="p">:</span><span class="c1">#C2-M:004,255,01.11</span>
<span class="n">New</span> <span class="n">Freq</span> <span class="nb">range</span> <span class="o">-</span> <span class="n">buffer</span> <span class="n">cleared</span><span class="o">.</span>
<span class="n">New</span> <span class="n">Freq</span> <span class="nb">range</span> <span class="o">-</span> <span class="n">buffer</span> <span class="n">cleared</span><span class="o">.</span>
<span class="n">New</span> <span class="n">Freq</span> <span class="nb">range</span> <span class="o">-</span> <span class="n">buffer</span> <span class="n">cleared</span><span class="o">.</span>
<span class="n">Waiting</span> <span class="k">for</span> <span class="n">data</span>
<span class="n">Freq</span> <span class="nb">range</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="mi">2427</span> <span class="o">-</span> <span class="mi">2447</span> <span class="n">MHz</span>
<span class="n">Mon</span> <span class="n">Feb</span> <span class="mi">19</span> <span class="mi">13</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">10</span> <span class="mi">2018</span><span class="p">,</span> <span class="n">Sweep</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="n">Peak</span><span class="p">:</span> <span class="mf">2433.071</span> <span class="n">MHz</span>      <span class="o">-</span><span class="mf">67.5</span> <span class="n">dBm</span>
<span class="n">Updating</span> <span class="n">device</span> <span class="n">config</span>
<span class="n">Waiting</span> <span class="k">for</span> <span class="n">sweep_data</span> <span class="n">update</span>
<span class="n">New</span> <span class="n">Freq</span> <span class="nb">range</span> <span class="o">-</span> <span class="n">buffer</span> <span class="n">cleared</span><span class="o">.</span>
<span class="n">Waiting</span> <span class="k">for</span> <span class="n">data</span>
<span class="n">Freq</span> <span class="nb">range</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="mi">2452</span> <span class="o">-</span> <span class="mi">2472</span> <span class="n">MHz</span>
<span class="n">Mon</span> <span class="n">Feb</span> <span class="mi">19</span> <span class="mi">13</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">10</span> <span class="mi">2018</span><span class="p">,</span> <span class="n">Sweep</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">Peak</span><span class="p">:</span> <span class="mf">2457.179</span> <span class="n">MHz</span>      <span class="o">-</span><span class="mf">98.5</span> <span class="n">dBm</span>
<span class="n">Disconnected</span><span class="o">.</span>
</pre></div>
</div>
<p>At least one of the times when I ran this, the first peak was outside of the range that had been set.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Freq</span> <span class="nb">range</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="mi">2402</span> <span class="o">-</span> <span class="mi">2422</span> <span class="n">MHz</span>
<span class="n">Mon</span> <span class="n">Feb</span> <span class="mi">19</span> <span class="mi">13</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">26</span> <span class="mi">2018</span><span class="p">,</span> <span class="n">Sweep</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">Peak</span><span class="p">:</span> <span class="mf">2465.036</span> <span class="n">MHz</span>      <span class="o">-</span><span class="mf">92.5</span> <span class="n">dBm</span>
</pre></div>
</div>
<p>To try and make this less likely, I added calling the <code class="docutils literal notranslate"><span class="pre">RFExplorer.RFESweepDataCollection.CleanAll</span></code> method. I don’t know if that’s really the fix, but it’s something that has to be looked into.</p>
<div class="code ipython highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sample</span><span class="p">(</span><span class="n">clean</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Detected</span> <span class="n">COM</span> <span class="n">ports</span><span class="p">:</span>
  <span class="o">*</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyS0</span>
  <span class="o">*</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyUSB0</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyS0</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">valid</span> <span class="n">available</span> <span class="n">port</span><span class="o">.</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyUSB0</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">valid</span> <span class="n">available</span> <span class="n">port</span><span class="o">.</span>
<span class="n">RF</span> <span class="n">Explorer</span> <span class="n">Valid</span> <span class="n">Ports</span> <span class="n">found</span><span class="p">:</span> <span class="mi">2</span> <span class="o">-</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyS0</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyUSB0</span>
<span class="n">User</span> <span class="n">COM</span> <span class="n">port</span><span class="p">:</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyUSB0</span>
<span class="n">Connected</span><span class="p">:</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyUSB0</span><span class="p">,</span> <span class="mi">500000</span> <span class="n">bauds</span>
<span class="n">Sending</span> <span class="n">the</span> <span class="n">Reset</span> <span class="n">Command</span>
<span class="n">Waiting</span> <span class="n">until</span> <span class="n">the</span> <span class="n">device</span> <span class="n">resets</span>
<span class="n">Reset</span><span class="p">,</span> <span class="n">sleeping</span> <span class="k">for</span> <span class="mf">4.0</span> <span class="n">seconds</span> <span class="n">to</span> <span class="n">let</span> <span class="n">the</span> <span class="n">device</span> <span class="n">settle</span>
<span class="n">requesting</span> <span class="n">the</span> <span class="n">RF</span> <span class="n">Explorer</span> <span class="n">configuration</span>
<span class="n">Waiting</span> <span class="k">for</span> <span class="n">the</span> <span class="n">model</span> <span class="n">to</span> <span class="ow">not</span> <span class="n">be</span> <span class="kc">None</span>
<span class="n">Received</span> <span class="n">RF</span> <span class="n">Explorer</span> <span class="n">device</span> <span class="n">model</span> <span class="n">info</span><span class="p">:</span><span class="c1">#C2-M:004,255,01.11</span>
<span class="n">New</span> <span class="n">Freq</span> <span class="nb">range</span> <span class="o">-</span> <span class="n">buffer</span> <span class="n">cleared</span><span class="o">.</span>

<span class="n">RF</span> <span class="n">Explorer</span> <span class="mi">23</span><span class="o">-</span><span class="n">Apr</span><span class="o">-</span><span class="mi">13</span> <span class="mf">01.04</span><span class="o">.</span><span class="mi">05</span> <span class="mf">01.11</span>
<span class="n">Model</span> <span class="ow">is</span> <span class="nb">set</span>
<span class="n">User</span> <span class="n">settings</span><span class="p">:</span>
<span class="n">Start</span> <span class="n">freq</span><span class="p">:</span> <span class="mi">2402</span> <span class="n">MHz</span> <span class="o">-</span> <span class="n">Stop</span> <span class="n">freq</span><span class="p">:</span> <span class="mi">2477</span> <span class="n">MHz</span>
<span class="n">Updating</span> <span class="n">Device</span> <span class="n">Configuration</span><span class="p">:</span> <span class="mi">2402</span><span class="p">,</span> <span class="mi">2422</span>
<span class="n">updated</span>
<span class="n">Waiting</span> <span class="k">for</span> <span class="n">data</span>
<span class="n">Received</span> <span class="n">RF</span> <span class="n">Explorer</span> <span class="n">device</span> <span class="n">model</span> <span class="n">info</span><span class="p">:</span><span class="c1">#C2-M:004,255,01.11</span>
<span class="n">New</span> <span class="n">Freq</span> <span class="nb">range</span> <span class="o">-</span> <span class="n">buffer</span> <span class="n">cleared</span><span class="o">.</span>
<span class="n">New</span> <span class="n">Freq</span> <span class="nb">range</span> <span class="o">-</span> <span class="n">buffer</span> <span class="n">cleared</span><span class="o">.</span>
<span class="n">Freq</span> <span class="nb">range</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="mi">2402</span> <span class="o">-</span> <span class="mi">2422</span> <span class="n">MHz</span>
<span class="n">Mon</span> <span class="n">Feb</span> <span class="mi">19</span> <span class="mi">13</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">45</span> <span class="mi">2018</span><span class="p">,</span> <span class="n">Sweep</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="n">Peak</span><span class="p">:</span> <span class="mf">2405.214</span> <span class="n">MHz</span>      <span class="o">-</span><span class="mf">99.5</span> <span class="n">dBm</span>
<span class="n">Updating</span> <span class="n">device</span> <span class="n">config</span>
<span class="n">Waiting</span> <span class="k">for</span> <span class="n">sweep_data</span> <span class="n">update</span>
<span class="n">New</span> <span class="n">Freq</span> <span class="nb">range</span> <span class="o">-</span> <span class="n">buffer</span> <span class="n">cleared</span><span class="o">.</span>
<span class="n">Waiting</span> <span class="k">for</span> <span class="n">data</span>
<span class="n">Freq</span> <span class="nb">range</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="mi">2427</span> <span class="o">-</span> <span class="mi">2447</span> <span class="n">MHz</span>
<span class="n">Mon</span> <span class="n">Feb</span> <span class="mi">19</span> <span class="mi">13</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">45</span> <span class="mi">2018</span><span class="p">,</span> <span class="n">Sweep</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">Peak</span><span class="p">:</span> <span class="mf">2428.786</span> <span class="n">MHz</span>      <span class="o">-</span><span class="mf">76.5</span> <span class="n">dBm</span>
<span class="n">Updating</span> <span class="n">device</span> <span class="n">config</span>
<span class="n">Waiting</span> <span class="k">for</span> <span class="n">sweep_data</span> <span class="n">update</span>
<span class="n">New</span> <span class="n">Freq</span> <span class="nb">range</span> <span class="o">-</span> <span class="n">buffer</span> <span class="n">cleared</span><span class="o">.</span>
<span class="n">Waiting</span> <span class="k">for</span> <span class="n">data</span>
<span class="n">Freq</span> <span class="nb">range</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="mi">2452</span> <span class="o">-</span> <span class="mi">2472</span> <span class="n">MHz</span>
<span class="n">Mon</span> <span class="n">Feb</span> <span class="mi">19</span> <span class="mi">13</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">46</span> <span class="mi">2018</span><span class="p">,</span> <span class="n">Sweep</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">Peak</span><span class="p">:</span> <span class="mf">2459.500</span> <span class="n">MHz</span>      <span class="o">-</span><span class="mf">101.0</span> <span class="n">dBm</span>
<span class="n">Disconnected</span><span class="o">.</span>
</pre></div>
</div>
<p>The six lines we really care about here are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Freq</span> <span class="nb">range</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="mi">2402</span> <span class="o">-</span> <span class="mi">2422</span> <span class="n">MHz</span>
<span class="n">Mon</span> <span class="n">Feb</span> <span class="mi">19</span> <span class="mi">13</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">45</span> <span class="mi">2018</span><span class="p">,</span> <span class="n">Sweep</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="n">Peak</span><span class="p">:</span> <span class="mf">2405.214</span> <span class="n">MHz</span>      <span class="o">-</span><span class="mf">99.5</span> <span class="n">dBm</span>
<span class="n">Freq</span> <span class="nb">range</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="mi">2427</span> <span class="o">-</span> <span class="mi">2447</span> <span class="n">MHz</span>
<span class="n">Mon</span> <span class="n">Feb</span> <span class="mi">19</span> <span class="mi">13</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">45</span> <span class="mi">2018</span><span class="p">,</span> <span class="n">Sweep</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">Peak</span><span class="p">:</span> <span class="mf">2428.786</span> <span class="n">MHz</span>      <span class="o">-</span><span class="mf">76.5</span> <span class="n">dBm</span>
<span class="n">Freq</span> <span class="nb">range</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="mi">2452</span> <span class="o">-</span> <span class="mi">2472</span> <span class="n">MHz</span>
<span class="n">Mon</span> <span class="n">Feb</span> <span class="mi">19</span> <span class="mi">13</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">46</span> <span class="mi">2018</span><span class="p">,</span> <span class="n">Sweep</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">Peak</span><span class="p">:</span> <span class="mf">2459.500</span> <span class="n">MHz</span>      <span class="o">-</span><span class="mf">101.0</span> <span class="n">dBm</span>
</pre></div>
</div>
<p>Well, the three we really care about are the actual Peaks. It seems kind of suspicious to me that the peak value for channel 11 was -101 dBm (and channel 1 looks suspicious too). But this is an exploration, so we’ll have to see how things progress.</p>
</div>
</div>


      </div>
        
    </div>
  </div>
  <footer class="footer navbar-fixed-bottom">
    <div class="container" style="text-align:center">
      <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="padding: 10px" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
    </div>
  </footer>

  </body>
</html>